!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).backstage={})}(this,function(e){"use strict";var c,n,s,C,a;(n=c=c||{}).assertNever=function(e){throw new Error},n.arrayToEnum=e=>{const t={};for(const r of e)t[r]=r;return t},n.getValidEnumValues=t=>{const e=n.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),r={};for(const n of e)r[n]=t[n];return n.objectValues(r)},n.objectValues=t=>n.objectKeys(t).map(function(e){return t[e]}),n.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},n.find=(e,t)=>{for(const r of e)if(t(r))return r},n.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;const u=c.arrayToEnum(["invalid_type","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]);class l extends Error{constructor(e){super(),this.issues=[],this.format=()=>{const a={_errors:[]},e=r=>{for(const n of r.issues)if("invalid_union"===n.code)n.unionErrors.map(e);else if("invalid_return_type"===n.code)e(n.returnTypeError);else if("invalid_arguments"===n.code)e(n.argumentsError);else if(0===n.path.length)a._errors.push(n.message);else{let e=a,t=0;for(;t<n.path.length;){const a=n.path[t];if(t===n.path.length-1)e[a]=e[a]||{_errors:[]},e[a]._errors.push(n.message);else if("string"==typeof a)e[a]=e[a]||{_errors:[]};else if("number"==typeof a){const r=[];r._errors=[],e[a]=e[a]||r}e=e[a],t++}}};return e(this),a},this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};var t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}toString(){return this.message}get message(){return JSON.stringify(this.issues,null,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},r=[];for(const n of this.issues)0<n.path.length?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}l.create=e=>new l(e);const M=(e,t)=>{let r;switch(e.code){case u.invalid_type:r="undefined"===e.received?"Required":`Expected ${e.expected}, received `+e.received;break;case u.unrecognized_keys:r="Unrecognized key(s) in object: "+e.keys.map(e=>`'${e}'`).join(", ");break;case u.invalid_union:r="Invalid input";break;case u.invalid_union_discriminator:r="Invalid discriminator value. Expected "+e.options.map(e=>"string"==typeof e?`'${e}'`:e).join(" | ");break;case u.invalid_enum_value:r="Invalid enum value. Expected "+e.options.map(e=>"string"==typeof e?`'${e}'`:e).join(" | ");break;case u.invalid_arguments:r="Invalid function arguments";break;case u.invalid_return_type:r="Invalid function return type";break;case u.invalid_date:r="Invalid date";break;case u.invalid_string:r="regex"!==e.validation?"Invalid "+e.validation:"Invalid";break;case u.too_small:r="array"===e.type?`Array must contain ${e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?"Number must be greater than "+(e.inclusive?"or equal to ":"")+e.minimum:"Invalid input";break;case u.too_big:r="array"===e.type?`Array must contain ${e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?"Number must be less than "+(e.inclusive?"or equal to ":"")+e.maximum:"Invalid input";break;case u.custom:r="Invalid input";break;case u.invalid_intersection_types:r="Intersection results could not be merged";break;case u.not_multiple_of:r="Number must be a multiple of "+e.multipleOf;break;default:r=t.defaultError,c.assertNever(e)}return{message:r}};let L=M;const d=c.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),i=e=>{switch(typeof e){case"undefined":return d.undefined;case"string":return d.string;case"number":return isNaN(e)?d.nan:d.number;case"boolean":return d.boolean;case"function":return d.function;case"bigint":return d.bigint;case"object":return Array.isArray(e)?d.array:null===e?d.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?d.promise:"undefined"!=typeof Map&&e instanceof Map?d.map:"undefined"!=typeof Set&&e instanceof Set?d.set:"undefined"!=typeof Date&&e instanceof Date?d.date:d.object;default:return d.unknown}},D=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],i={...a,path:s};let o="";for(const e of n.filter(e=>!!e).slice().reverse())o=e(i,{data:t,defaultError:o}).message;return{...a,path:s,message:a.message||o}};function p(e,t){t=D({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,L,M].filter(e=>!!e)});e.common.issues.push(t)}class f{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if("aborted"===n.status)return h;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const e of t)r.push({key:await e.key,value:await e.value});return f.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:t,value:a}=n;if("aborted"===t.status)return h;if("aborted"===a.status)return h;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),void 0===a.value&&!n.alwaysSet||(r[t.value]=a.value)}return{status:e.value,value:r}}}const h=Object.freeze({status:"aborted"}),m=e=>({status:"valid",value:e}),R=e=>"aborted"===e.status,z=e=>"dirty"===e.status,V=e=>"valid"===e.status,K=e=>e instanceof Promise;(t=s=s||{}).errToObj=e=>"string"==typeof e?{message:e}:e||{},t.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class y{constructor(e,t,r,n){this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._path.concat(this._key)}}const $=(e,t)=>{if(V(t))return{success:!0,data:t.value};if(e.common.issues.length)return{success:!1,error:new l(e.common.issues)};throw new Error("Validation failed but no issues detected.")};function o(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:a}=r;if(e&&(t||n))throw new Error('Can\'t use "invalid" or "required" in conjunction with custom error map.');return e?{errorMap:e,description:a}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data&&n?{message:n}:r.invalid_type_error?{message:r.invalid_type_error}:{message:t.defaultError},description:a}}class g{constructor(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return i(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:i(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new f,ctx:{common:e.parent.common,data:e.data,parsedType:i(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){e=this._parse(e);if(K(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(e){e=this._parse(e);return Promise.resolve(e)}parse(e,t){e=this.safeParse(e,t);if(e.success)return e.data;throw e.error}safeParse(e,t){var r={common:{issues:[],async:null!=(r=null==t?void 0:t.async)&&r,typeCache:"undefined"!=typeof Map?new Map:void 0,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i(e)},t=this._parseSync({data:e,path:r.path,parent:r});return $(r,t)}async parseAsync(e,t){e=await this.safeParseAsync(e,t);if(e.success)return e.data;throw e.error}async safeParseAsync(e,t){t={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0,typeCache:"undefined"!=typeof Map?new Map:void 0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i(e)},e=this._parse({data:e,path:[],parent:t}),e=await(K(e)?e:Promise.resolve(e));return $(t,e)}refine(a,s){return this._refinement((e,t)=>{const r=a(e),n=()=>t.addIssue({code:u.custom,...(e=>"string"==typeof s||void 0===s?{message:s}:"function"==typeof s?s(e):s)(e)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then(e=>!!e||(n(),!1)):!!r||(n(),!1)})}refinement(r,n){return this._refinement((e,t)=>!!r(e)||(t.addIssue("function"==typeof n?n(e,t):n),!1))}_refinement(e){return new k({schema:this,typeName:a.ZodEffects,effect:{type:"refinement",refinement:e}})}optional(){return O.create(this)}nullable(){return Z.create(this)}nullish(){return this.optional().nullable()}array(){return b.create(this)}promise(){return me.create(this)}or(e){return ae.create([this,e])}and(e){return ie.create(this,e)}transform(e){return new k({schema:this,typeName:a.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ye({innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:a.ZodDefault})}describe(e){return new this.constructor({...this._def,description:e})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const q=/^c[^\s-]{8,}$/i,Y=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,B=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class W extends g{constructor(){super(...arguments),this._regex=(t,e,r)=>this.refinement(e=>t.test(e),{validation:e,code:u.invalid_string,...s.errToObj(r)}),this.nonempty=e=>this.min(1,s.errToObj(e))}_parse(t){if(this._getType(t)!==d.string){const r=this._getOrReturnCtx(t);return p(r,{code:u.invalid_type,expected:d.string,received:r.parsedType}),h}const r=new f;let n;for(const a of this._def.checks)if("min"===a.kind)t.data.length<a.value&&(n=this._getOrReturnCtx(t,n),p(n,{code:u.too_small,minimum:a.value,type:"string",inclusive:!0,message:a.message}),r.dirty());else if("max"===a.kind)t.data.length>a.value&&(n=this._getOrReturnCtx(t,n),p(n,{code:u.too_big,maximum:a.value,type:"string",inclusive:!0,message:a.message}),r.dirty());else if("email"===a.kind)B.test(t.data)||(n=this._getOrReturnCtx(t,n),p(n,{validation:"email",code:u.invalid_string,message:a.message}),r.dirty());else if("uuid"===a.kind)Y.test(t.data)||(n=this._getOrReturnCtx(t,n),p(n,{validation:"uuid",code:u.invalid_string,message:a.message}),r.dirty());else if("cuid"===a.kind)q.test(t.data)||(n=this._getOrReturnCtx(t,n),p(n,{validation:"cuid",code:u.invalid_string,message:a.message}),r.dirty());else if("url"===a.kind)try{new URL(t.data)}catch(e){p(n=this._getOrReturnCtx(t,n),{validation:"url",code:u.invalid_string,message:a.message}),r.dirty()}else"regex"===a.kind&&(a.regex.lastIndex=0,a.regex.test(t.data)||(p(n=this._getOrReturnCtx(t,n),{validation:"regex",code:u.invalid_string,message:a.message}),r.dirty()));return{status:r.value,value:t.data}}_addCheck(e){return new W({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...s.errToObj(e)})}url(e){return this._addCheck({kind:"url",...s.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...s.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...s.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...s.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...s.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...s.errToObj(t)})}length(e,t){return this.min(e,t).max(e,t)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get minLength(){let t=-1/0;return this._def.checks.map(e=>{"min"===e.kind&&(null===t||e.value>t)&&(t=e.value)}),t}get maxLength(){let t=null;return this._def.checks.map(e=>{"max"===e.kind&&(null===t||e.value<t)&&(t=e.value)}),t}}W.create=e=>new W({checks:[],typeName:a.ZodString,...o(e)});class G extends g{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._getType(e)!==d.number){const c=this._getOrReturnCtx(e);return p(c,{code:u.invalid_type,expected:d.number,received:c.parsedType}),h}let t;const r=new f;for(const o of this._def.checks)"int"===o.kind?c.isInteger(e.data)||(p(t=this._getOrReturnCtx(e,t),{code:u.invalid_type,expected:"integer",received:"float",message:o.message}),r.dirty()):"min"===o.kind?(o.inclusive?e.data<o.value:e.data<=o.value)&&(p(t=this._getOrReturnCtx(e,t),{code:u.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,message:o.message}),r.dirty()):"max"===o.kind?(o.inclusive?e.data>o.value:e.data>=o.value)&&(p(t=this._getOrReturnCtx(e,t),{code:u.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,message:o.message}),r.dirty()):"multipleOf"===o.kind?0!=(n=e.data,a=o.value,s=i=s=void 0,s=(n.toString().split(".")[1]||"").length,i=(a.toString().split(".")[1]||"").length,s=i<s?s:i,parseInt(n.toFixed(s).replace(".",""))%parseInt(a.toFixed(s).replace(".",""))/Math.pow(10,s))&&(p(t=this._getOrReturnCtx(e,t),{code:u.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):c.assertNever(o);var n,a,s,i;return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,s.toString(t))}gt(e,t){return this.setLimit("min",e,!1,s.toString(t))}lte(e,t){return this.setLimit("max",e,!0,s.toString(t))}lt(e,t){return this.setLimit("max",e,!1,s.toString(t))}setLimit(e,t,r,n){return new G({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:s.toString(n)}]})}_addCheck(e){return new G({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:s.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:s.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:s.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:s.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:s.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:s.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind)}}G.create=e=>new G({checks:[],typeName:a.ZodNumber,...o(e)});class J extends g{_parse(e){var t;return this._getType(e)!==d.bigint?(p(t=this._getOrReturnCtx(e),{code:u.invalid_type,expected:d.bigint,received:t.parsedType}),h):m(e.data)}}J.create=e=>new J({typeName:a.ZodBigInt,...o(e)});class Q extends g{_parse(e){var t;return this._getType(e)!==d.boolean?(p(t=this._getOrReturnCtx(e),{code:u.invalid_type,expected:d.boolean,received:t.parsedType}),h):m(e.data)}}Q.create=e=>new Q({typeName:a.ZodBoolean,...o(e)});class H extends g{_parse(e){var t;return this._getType(e)!==d.date?(p(t=this._getOrReturnCtx(e),{code:u.invalid_type,expected:d.date,received:t.parsedType}),h):isNaN(e.data.getTime())?(p(this._getOrReturnCtx(e),{code:u.invalid_date}),h):{status:"valid",value:new Date(e.data.getTime())}}}H.create=e=>new H({typeName:a.ZodDate,...o(e)});class X extends g{_parse(e){var t;return this._getType(e)!==d.undefined?(p(t=this._getOrReturnCtx(e),{code:u.invalid_type,expected:d.undefined,received:t.parsedType}),h):m(e.data)}}X.create=e=>new X({typeName:a.ZodUndefined,...o(e)});class ee extends g{_parse(e){var t;return this._getType(e)!==d.null?(p(t=this._getOrReturnCtx(e),{code:u.invalid_type,expected:d.null,received:t.parsedType}),h):m(e.data)}}ee.create=e=>new ee({typeName:a.ZodNull,...o(e)});class te extends g{constructor(){super(...arguments),this._any=!0}_parse(e){return m(e.data)}}te.create=e=>new te({typeName:a.ZodAny,...o(e)});class v extends g{constructor(){super(...arguments),this._unknown=!0}_parse(e){return m(e.data)}}v.create=e=>new v({typeName:a.ZodUnknown,...o(e)});class _ extends g{_parse(e){e=this._getOrReturnCtx(e);return p(e,{code:u.invalid_type,expected:d.never,received:e.parsedType}),h}}_.create=e=>new _({typeName:a.ZodNever,...o(e)});class re extends g{_parse(e){var t;return this._getType(e)!==d.undefined?(p(t=this._getOrReturnCtx(e),{code:u.invalid_type,expected:d.void,received:t.parsedType}),h):m(e.data)}}re.create=e=>new re({typeName:a.ZodVoid,...o(e)});class b extends g{_parse(e){const{ctx:r,status:t}=this._processInputParams(e),n=this._def;if(r.parsedType!==d.array)return p(r,{code:u.invalid_type,expected:d.array,received:r.parsedType}),h;if(null!==n.minLength&&r.data.length<n.minLength.value&&(p(r,{code:u.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,message:n.minLength.message}),t.dirty()),null!==n.maxLength&&r.data.length>n.maxLength.value&&(p(r,{code:u.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,message:n.maxLength.message}),t.dirty()),r.common.async)return Promise.all(r.data.map((e,t)=>n.type._parseAsync(new y(r,e,r.path,t)))).then(e=>f.mergeArray(t,e));e=r.data.map((e,t)=>n.type._parseSync(new y(r,e,r.path,t)));return f.mergeArray(t,e)}get element(){return this._def.type}min(e,t){return new b({...this._def,minLength:{value:e,message:s.toString(t)}})}max(e,t){return new b({...this._def,maxLength:{value:e,message:s.toString(t)}})}length(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}b.create=(e,t)=>new b({type:e,minLength:null,maxLength:null,typeName:a.ZodArray,...o(t)}),(C||(C={})).mergeShapes=(e,t)=>({...e,...t});const ne=t=>e=>new w({...t,shape:()=>({...t.shape(),...e})});class w extends g{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=ne(this._def),this.extend=ne(this._def)}_getCached(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=c.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==d.object){const c=this._getOrReturnCtx(e);return p(c,{code:u.invalid_type,expected:d.object,received:c.parsedType}),h}const{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),s=c.objectKeys(r.data).filter(e=>!a.includes(e)),i=[];for(const e of a){const c=n[e],u=r.data[e];i.push({key:{status:"valid",value:e},value:c._parse(new y(r,u,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof _){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of s)i.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)0<s.length&&(p(r,{code:u.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const c of s){const u=r.data[c];i.push({key:{status:"valid",value:c},value:e._parse(new y(r,u,r.path,c)),alwaysSet:c in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const e=[];for(const r of i){var t=await r.key;e.push({key:t,value:await r.value,alwaysSet:r.alwaysSet})}return e}).then(e=>f.mergeObjectSync(t,e)):f.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(a){return s.errToObj,new w({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(e,t)=>{var r,n=null!=(r=null==(r=(n=this._def).errorMap)?void 0:r.call(n,e,t).message)?r:t.defaultError;return"unrecognized_keys"===e.code?{message:null!=(r=s.errToObj(a).message)?r:n}:{message:n}}}:{}})}strip(){return new w({...this._def,unknownKeys:"strip"})}passthrough(){return new w({...this._def,unknownKeys:"passthrough"})}setKey(e,t){return this.augment({[e]:t})}merge(e){return new w({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>C.mergeShapes(this._def.shape(),e._def.shape()),typeName:a.ZodObject})}catchall(e){return new w({...this._def,catchall:e})}pick(e){const t={};return c.objectKeys(e).map(e=>{t[e]=this.shape[e]}),new w({...this._def,shape:()=>t})}omit(t){const r={};return c.objectKeys(this.shape).map(e=>{-1===c.objectKeys(t).indexOf(e)&&(r[e]=this.shape[e])}),new w({...this._def,shape:()=>r})}deepPartial(){return function t(e){if(e instanceof w){const n={};for(const a in e.shape){var r=e.shape[a];n[a]=O.create(t(r))}return new w({...e._def,shape:()=>n})}return e instanceof b?b.create(t(e.element)):e instanceof O?O.create(t(e.unwrap())):e instanceof Z?Z.create(t(e.unwrap())):e instanceof x?x.create(e.items.map(e=>t(e))):e}(this)}partial(t){const r={};if(t)return c.objectKeys(this.shape).map(e=>{-1===c.objectKeys(t).indexOf(e)?r[e]=this.shape[e]:r[e]=this.shape[e].optional()}),new w({...this._def,shape:()=>r});for(const t in this.shape){const c=this.shape[t];r[t]=c.optional()}return new w({...this._def,shape:()=>r})}required(){const t={};for(const r in this.shape){let e=this.shape[r];for(;e instanceof O;)e=e._def.innerType;t[r]=e}return new w({...this._def,shape:()=>t})}}w.create=(e,t)=>new w({shape:()=>e,unknownKeys:"strip",catchall:_.create(),typeName:a.ZodObject,...o(t)}),w.strictCreate=(e,t)=>new w({shape:()=>e,unknownKeys:"strict",catchall:_.create(),typeName:a.ZodObject,...o(t)}),w.lazycreate=(e,t)=>new w({shape:e,unknownKeys:"strip",catchall:_.create(),typeName:a.ZodObject,...o(t)});class ae extends g{_parse(t){const r=this._processInputParams(t)["ctx"],n=this._def.options;if(r.common.async)return Promise.all(n.map(async e=>{var t={...r,common:{...r.common,issues:[]},parent:null};return{result:await e._parseAsync({data:r.data,path:r.path,parent:t}),ctx:t}})).then(function(e){for(const r of e)if("valid"===r.result.status)return r.result;for(const u of e)if("dirty"===u.result.status)return r.common.issues.push(...u.ctx.common.issues),u.result;e=e.map(e=>new l(e.ctx.common.issues));return p(r,{code:u.invalid_union,unionErrors:e}),h});{let e;const a=[];for(const u of n){const l={...r,common:{...r.common,issues:[]},parent:null},n=u._parseSync({data:r.data,path:r.path,parent:l});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(e)return r.common.issues.push(...e.ctx.common.issues),e.result;t=a.map(e=>new l(e));return p(r,{code:u.invalid_union,unionErrors:t}),h}}get options(){return this._def.options}}ae.create=(e,t)=>new ae({options:e,typeName:a.ZodUnion,...o(t)});class se extends g{_parse(e){e=this._processInputParams(e).ctx;if(e.parsedType!==d.object)return p(e,{code:u.invalid_type,expected:d.object,received:e.parsedType}),h;const t=this.discriminator,r=e.data[t],n=this.options.get(r);return n?e.common.async?n._parseAsync({data:e.data,path:e.path,parent:e}):n._parseSync({data:e.data,path:e.path,parent:e}):(p(e,{code:u.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[t]}),h)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(r,e,t){const n=new Map;try{e.forEach(e=>{var t=e.shape[r].value;n.set(t,e)})}catch(r){throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(n.size!==e.length)throw new Error("Some of the discriminator values are not unique");return new se({typeName:a.ZodDiscriminatedUnion,discriminator:r,options:n,...o(t)})}}class ie extends g{_parse(e){const{status:n,ctx:a}=this._processInputParams(e),r=(e,t)=>{if(R(e)||R(t))return h;var r=function t(r,n){const a=i(r),s=i(n);if(r===n)return{valid:!0,data:r};if(a===d.object&&s===d.object){const a=c.objectKeys(n),s=c.objectKeys(r).filter(e=>-1!==a.indexOf(e)),e={...r,...n};for(const c of s){const a=t(r[c],n[c]);if(!a.valid)return{valid:!1};e[c]=a.data}return{valid:!0,data:e}}if(a!==d.array||s!==d.array)return a===d.date&&s===d.date&&+r==+n?{valid:!0,data:r}:{valid:!1};{if(r.length!==n.length)return{valid:!1};const c=[];for(let e=0;e<r.length;e++){const s=t(r[e],n[e]);if(!s.valid)return{valid:!1};c.push(s.data)}return{valid:!0,data:c}}}(e.value,t.value);return r.valid?((z(e)||z(t))&&n.dirty(),{status:n.value,value:r.data}):(p(a,{code:u.invalid_intersection_types}),h)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}ie.create=(e,t,r)=>new ie({left:e,right:t,typeName:a.ZodIntersection,...o(r)});class x extends g{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==d.array)return p(n,{code:u.invalid_type,expected:d.array,received:n.parsedType}),h;if(n.data.length<this._def.items.length)return p(n,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),h;!this._def.rest&&n.data.length>this._def.items.length&&(p(n,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),t.dirty());e=n.data.map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new y(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(e).then(e=>f.mergeArray(t,e)):f.mergeArray(t,e)}get items(){return this._def.items}rest(e){return new x({...this._def,rest:e})}}x.create=(e,t)=>new x({items:e,typeName:a.ZodTuple,rest:null,...o(t)});class oe extends g{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){var{status:e,ctx:t}=this._processInputParams(e);if(t.parsedType!==d.object)return p(t,{code:u.invalid_type,expected:d.object,received:t.parsedType}),h;const r=[],n=this._def.keyType,a=this._def.valueType;for(const e in t.data)r.push({key:n._parse(new y(t,e,t.path,e)),value:a._parse(new y(t,t.data[e],t.path,e))});return t.common.async?f.mergeObjectAsync(e,r):f.mergeObjectSync(e,r)}get element(){return this._def.valueType}static create(e,t,r){return new oe(t instanceof g?{keyType:e,valueType:t,typeName:a.ZodRecord,...o(r)}:{keyType:W.create(),valueType:e,typeName:a.ZodRecord,...o(t)})}}class ce extends g{_parse(n){const{status:a,ctx:s}=this._processInputParams(n);if(s.parsedType!==d.map)return p(s,{code:u.invalid_type,expected:d.map,received:s.parsedType}),h;const i=this._def.keyType,o=this._def.valueType,c=[...s.data.entries()].map(([e,t],r)=>({key:i._parse(new y(s,e,s.path,[r,"key"])),value:o._parse(new y(s,t,s.path,[r,"value"]))}));if(s.common.async){const n=new Map;return Promise.resolve().then(async()=>{for(const r of c){var e=await r.key,t=await r.value;if("aborted"===e.status||"aborted"===t.status)return h;"dirty"!==e.status&&"dirty"!==t.status||a.dirty(),n.set(e.value,t.value)}return{status:a.value,value:n}})}{const n=new Map;for(const u of c){const s=u.key,i=u.value;if("aborted"===s.status||"aborted"===i.status)return h;"dirty"!==s.status&&"dirty"!==i.status||a.dirty(),n.set(s.value,i.value)}return{status:a.value,value:n}}}}ce.create=(e,t,r)=>new ce({valueType:t,keyType:e,typeName:a.ZodMap,...o(r)});class ue extends g{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==d.set)return p(r,{code:u.invalid_type,expected:d.set,received:r.parsedType}),h;e=this._def;null!==e.minSize&&r.data.size<e.minSize.value&&(p(r,{code:u.too_small,minimum:e.minSize.value,type:"set",inclusive:!0,message:e.minSize.message}),n.dirty()),null!==e.maxSize&&r.data.size>e.maxSize.value&&(p(r,{code:u.too_big,maximum:e.maxSize.value,type:"set",inclusive:!0,message:e.maxSize.message}),n.dirty());const a=this._def.valueType;function t(e){const t=new Set;for(const r of e){if("aborted"===r.status)return h;"dirty"===r.status&&n.dirty(),t.add(r.value)}return{status:n.value,value:t}}e=[...r.data.values()].map((e,t)=>a._parse(new y(r,e,r.path,t)));return r.common.async?Promise.all(e).then(e=>t(e)):t(e)}min(e,t){return new ue({...this._def,minSize:{value:e,message:s.toString(t)}})}max(e,t){return new ue({...this._def,maxSize:{value:e,message:s.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ue.create=(e,t)=>new ue({valueType:e,minSize:null,maxSize:null,typeName:a.ZodSet,...o(t)});class le extends g{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const r=this._processInputParams(e)["ctx"];if(r.parsedType!==d.function)return p(r,{code:u.invalid_type,expected:d.function,received:r.parsedType}),h;function a(e,t){return D({data:e,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,L,M].filter(e=>!!e),issueData:{code:u.invalid_arguments,argumentsError:t}})}function s(e,t){return D({data:e,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,L,M].filter(e=>!!e),issueData:{code:u.invalid_return_type,returnTypeError:t}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;return this._def.returns instanceof me?m(async(...t)=>{const r=new l([]),e=await this._def.args.parseAsync(t,i).catch(e=>{throw r.addIssue(a(t,e)),r}),n=await o(...e);return this._def.returns._def.type.parseAsync(n,i).catch(e=>{throw r.addIssue(s(n,e)),r})}):m((...e)=>{var t=this._def.args.safeParse(e,i);if(!t.success)throw new l([a(e,t.error)]);e=o(...t.data),t=this._def.returns.safeParse(e,i);if(t.success)return t.data;throw new l([s(e,t.error)])})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new le({...this._def,args:x.create(e).rest(v.create())})}returns(e){return new le({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}}le.create=(e,t,r)=>new le({args:(e||x.create([])).rest(v.create()),returns:t||v.create(),typeName:a.ZodFunction,...o(r)});class de extends g{get schema(){return this._def.getter()}_parse(e){e=this._processInputParams(e).ctx;return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}de.create=(e,t)=>new de({getter:e,typeName:a.ZodLazy,...o(t)});class pe extends g{_parse(e){var t;return e.data!==this._def.value?(p(t=this._getOrReturnCtx(e),{code:u.invalid_type,expected:i(this._def.value),received:t.parsedType}),h):{status:"valid",value:e.data}}get value(){return this._def.value}}pe.create=(e,t)=>new pe({value:e,typeName:a.ZodLiteral,...o(t)});class fe extends g{_parse(e){return-1===this._def.values.indexOf(e.data)?(p(this._getOrReturnCtx(e),{code:u.invalid_enum_value,options:this._def.values}),h):m(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}}fe.create=function(e){return new fe({values:e,typeName:a.ZodEnum})};class he extends g{_parse(e){const t=c.getValidEnumValues(this._def.values);return-1===t.indexOf(e.data)?(p(this._getOrReturnCtx(e),{code:u.invalid_enum_value,options:c.objectValues(t)}),h):m(e.data)}get enum(){return this._def.values}}he.create=(e,t)=>new he({values:e,typeName:a.ZodNativeEnum,...o(t)});class me extends g{_parse(e){const t=this._processInputParams(e)["ctx"];if(t.parsedType!==d.promise&&!1===t.common.async)return p(t,{code:u.invalid_type,expected:d.promise,received:t.parsedType}),h;const r=t.parsedType===d.promise?t.data:Promise.resolve(t.data);return m(r.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}me.create=(e,t)=>new me({type:e,typeName:a.ZodPromise,...o(t)});class k extends g{innerType(){return this._def.schema}_parse(r){const{status:t,ctx:n}=this._processInputParams(r),a=this._def.effect||null;if("preprocess"===a.type){const r=a.transform(n.data);return n.common.async?Promise.resolve(r).then(e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n})):this._def.schema._parseSync({data:r,path:n.path,parent:n})}if("refinement"===a.type){const r={addIssue:e=>{p(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}},c=(r.addIssue=r.addIssue.bind(r),e=>{var t=a.refinement(e,r);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e});if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>"aborted"===e.status?h:("dirty"===e.status&&t.dirty(),c(e.value).then(()=>({status:t.value,value:e.value}))));{const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?h:("dirty"===r.status&&t.dirty(),c(r.value),{status:t.value,value:r.value})}}if("transform"===a.type){if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>V(e)?Promise.resolve(a.transform(e.value)).then(m):e);{const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!V(r))return r;const c=a.transform(r.value);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return m(c)}}c.assertNever(a)}}k.create=(e,t,r)=>new k({schema:e,typeName:a.ZodEffects,effect:t,...o(r)}),k.createWithPreprocess=(e,t,r)=>new k({schema:t,effect:{type:"preprocess",transform:e},typeName:a.ZodEffects,...o(r)});class O extends g{_parse(e){return this._getType(e)===d.undefined?m(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}O.create=(e,t)=>new O({innerType:e,typeName:a.ZodOptional,...o(t)});class Z extends g{_parse(e){return this._getType(e)===d.null?m(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Z.create=(e,t)=>new Z({innerType:e,typeName:a.ZodNullable,...o(t)});class ye extends g{_parse(e){e=this._processInputParams(e).ctx;let t=e.data;return e.parsedType===d.undefined&&(t=this._def.defaultValue()),this._def.innerType._parse({data:t,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}ye.create=(e,t)=>new O({innerType:e,typeName:a.ZodOptional,...o(t)});class ge extends g{_parse(e){var t;return this._getType(e)!==d.nan?(p(t=this._getOrReturnCtx(e),{code:u.invalid_type,expected:d.nan,received:t.parsedType}),h):{status:"valid",value:e.data}}}ge.create=e=>new ge({typeName:a.ZodNaN,...o(e)});const ve=(e,t)=>e?te.create().refine(e,t):te.create(),_e={object:w.lazycreate},be=((t=a=a||{}).ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodPromise="ZodPromise",W.create),we=G.create,xe=ge.create,ke=J.create,Oe=Q.create,Ze=H.create,Ne=X.create,Te=ee.create,je=te.create,Ae=v.create,Se=_.create,Ee=re.create,Ie=b.create,Pe=w.create,Ce=w.strictCreate,Me=ae.create,Le=se.create,De=ie.create,Re=x.create,ze=oe.create,Ue=ce.create,Fe=ue.create,Ve=le.create,Ke=de.create,$e=pe.create,qe=fe.create,Ye=he.create,Be=me.create,We=k.create,Ge=O.create,Je=Z.create,Qe=k.createWithPreprocess;var t=Object.freeze({__proto__:null,ZodParsedType:d,getParsedType:i,makeIssue:D,EMPTY_PATH:[],addIssueToContext:p,ParseStatus:f,INVALID:h,DIRTY:e=>({status:"dirty",value:e}),OK:m,isAborted:R,isDirty:z,isValid:V,isAsync:K,ZodType:g,ZodString:W,ZodNumber:G,ZodBigInt:J,ZodBoolean:Q,ZodDate:H,ZodUndefined:X,ZodNull:ee,ZodAny:te,ZodUnknown:v,ZodNever:_,ZodVoid:re,ZodArray:b,get objectUtil(){return C},ZodObject:w,ZodUnion:ae,ZodDiscriminatedUnion:se,ZodIntersection:ie,ZodTuple:x,ZodRecord:oe,ZodMap:ce,ZodSet:ue,ZodFunction:le,ZodLazy:de,ZodLiteral:pe,ZodEnum:fe,ZodNativeEnum:he,ZodPromise:me,ZodEffects:k,ZodTransformer:k,ZodOptional:O,ZodNullable:Z,ZodDefault:ye,ZodNaN:ge,custom:ve,Schema:g,ZodSchema:g,late:_e,get ZodFirstPartyTypeKind(){return a},any:je,array:Ie,bigint:ke,boolean:Oe,date:Ze,discriminatedUnion:Le,effect:We,enum:qe,function:Ve,instanceof:(t,e={message:"Input not instance of "+t.name})=>ve(e=>e instanceof t,e),intersection:De,lazy:Ke,literal:$e,map:Ue,nan:xe,nativeEnum:Ye,never:Se,null:Te,nullable:Je,number:we,object:Pe,oboolean:()=>Oe().optional(),onumber:()=>we().optional(),optional:Ge,ostring:()=>be().optional(),preprocess:Qe,promise:Be,record:ze,set:Fe,strictObject:Ce,string:be,transformer:We,tuple:Re,undefined:Ne,union:Me,unknown:Ae,void:Ee,ZodIssueCode:u,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:l,defaultErrorMap:M,get overrideErrorMap(){return L},setErrorMap:e=>{L=e}}),r=t.string().max(64),N=t.string().max(253),He=r.regex(/^([a-zA-Z0-9_-]+)$/),T=N.regex(/^([a-zA-Z0-9_.-]+)\/([a-zA-Z0-9_.-]+)$/),Xe=t.string().regex(/^([a-zA-Z0-9_-]{1,64}):([a-zA-Z0-9_-]{1,64})\/([a-zA-Z0-9_-]{1,64})$/,"reference must have the format KIND:NAMESPACE/NAME"),et=t.string().regex(/^component:([a-zA-Z0-9_-]{1,64})\/([a-zA-Z0-9_-]{1,64})$/,"component reference must have the format component:NAMESPACE/NAME"),j=t.string().regex(/^group:([a-zA-Z0-9_-]{1,64})\/([a-zA-Z0-9_-]{1,64})$/,"group reference must have the format group:NAMESPACE/NAME"),tt=t.string().regex(/^system:([a-zA-Z0-9_-]{1,64})\/([a-zA-Z0-9_-]{1,64})$/,"system reference must have the format system:NAMESPACE/NAME"),rt=t.string().regex(/^api:([a-zA-Z0-9_-]{1,64})\/([a-zA-Z0-9_-]{1,64})$/,"api reference must have the format api:NAMESPACE/NAME"),A=t.literal("backstage.io/v1alpha1").default("backstage.io/v1alpha1"),nt=t.literal("botpress.com/v1alpha1").default("botpress.com/v1alpha1"),at=t.enum(["production","deprecated","experimental"]).default("production"),T=t.object({name:He,namespace:t.enum(["default"]).default("default"),title:r,description:N,reference:Xe.default("unknown:default/unknown"),labels:t.record(T,N).default({}),annotations:t.record(T,N).default({}),tags:r.array().default([]),links:t.object({title:r,url:N,icon:N}).array().default([])}),T=t.object({apiVersion:A,metadata:T}),st=T.extend({kind:t.literal("System").default("System"),spec:t.object({owner:j})}),it=T.extend({apiVersion:A,kind:t.literal("Group").default("Group"),spec:t.object({type:t.enum(["team","organization"]),parent:j.optional(),children:Xe.array().default([]),profile:t.object({email:t.string().email().optional()})})}),ot=T.extend({apiVersion:A,kind:t.literal("User").default("User"),spec:t.object({memberOf:j.array(),profile:t.object({displayName:r,email:t.string().email().optional()})})}),ct=T.extend({apiVersion:A,kind:t.literal("Component").default("Component"),spec:t.object({owner:j,system:tt,providesApis:rt.array().default([]),dependsOn:et.array().default([]),type:t.enum(["service","website"]),lifecycle:at})}),ut=T.extend({apiVersion:A,kind:t.literal("API").default("API"),spec:t.object({owner:j,system:tt,type:t.enum(["openapi","asyncapi","graphql","grpc"]),lifecycle:at,definition:t.string()})}),lt=T.extend({apiVersion:nt,kind:t.literal("Deployment").default("Deployment"),spec:t.object({owner:et,environment:r})}),dt=T.extend({apiVersion:nt,kind:t.literal("Documentation").default("Documentation"),spec:t.object({owner:et})});function pt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function S(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(a),!0).forEach(function(e){var t,r;t=n,r=a[e=e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):pt(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}function ft(e){return null==e}var ht={isNothing:ft,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:ft(e)?[]:[e]},repeat:function(e,t){for(var r="",n=0;n<t;n+=1)r+=e;return r},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var r,n,a,s;if(t)for(r=0,n=(s=Object.keys(t)).length;r<n;r+=1)e[a=s[r]]=t[a];return e}};function mt(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),n+" "+r):n}function yt(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=mt(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}((yt.prototype=Object.create(Error.prototype)).constructor=yt).prototype.toString=function(e){return this.name+": "+mt(this,e)};function E(t,e){if(e=e||{},Object.keys(e).forEach(function(e){if(-1===gt.indexOf(e))throw new U('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(e){return e},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=(r=e.styleAliases||null,n={},null!==r&&Object.keys(r).forEach(function(t){r[t].forEach(function(e){n[String(e)]=t})}),n),-1===vt.indexOf(this.kind))throw new U('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.');var r,n}var U=yt,gt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],vt=["scalar","sequence","mapping"];function _t(e,t){var a=[];return e[t].forEach(function(r){var n=a.length;a.forEach(function(e,t){e.tag===r.tag&&e.kind===r.kind&&e.multi===r.multi&&(n=t)}),a[n]=r}),a}function bt(e){return this.extend(e)}bt.prototype.extend=function(e){var t=[],r=[];if(e instanceof E)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new U("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach(function(e){if(!(e instanceof E))throw new U("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new U("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new U("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(e){if(!(e instanceof E))throw new U("Specified list of YAML types (or a single Type object) contains a non-Type object.")});e=Object.create(bt.prototype);return e.implicit=(this.implicit||[]).concat(t),e.explicit=(this.explicit||[]).concat(r),e.compiledImplicit=_t(e,"implicit"),e.compiledExplicit=_t(e,"explicit"),e.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(e){e.multi?(r.multi[e.kind].push(e),r.multi.fallback.push(e)):r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}(e.compiledImplicit,e.compiledExplicit),e};Xe=new bt({explicit:[new E("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),new E("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),new E("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})]}),rt=new E("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),A=new E("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});var j=new E("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n,a,s=e.length,i=0,o=!1;if(!s)return!1;if("0"===(t="-"!==(t=e[i])&&"+"!==t?t:e[++i])){if(i+1===s)return!0;if("b"===(t=e[++i])){for(i++;i<s;i++)if("_"!==(t=e[i])){if("0"!==t&&"1"!==t)return!1;o=!0}return o&&"_"!==t}if("x"===t){for(i++;i<s;i++)if("_"!==(t=e[i])){if(!(48<=(r=e.charCodeAt(i))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;o=!0}return o&&"_"!==t}if("o"===t){for(i++;i<s;i++)if("_"!==(t=e[i])){if(!(48<=(n=e.charCodeAt(i))&&n<=55))return!1;o=!0}return o&&"_"!==t}}if("_"===t)return!1;for(;i<s;i++)if("_"!==(t=e[i])){if(!(48<=(a=e.charCodeAt(i))&&a<=57))return!1;o=!0}return!(!o||"_"===t)},construct:function(e){var t,r=1;if("-"!==(t=(e=-1!==e.indexOf("_")?e.replace(/_/g,""):e)[0])&&"+"!==t||("-"===t&&(r=-1),t=(e=e.slice(1))[0]),"0"===e)return 0;if("0"===t){if("b"===e[1])return r*parseInt(e.slice(2),2);if("x"===e[1])return r*parseInt(e.slice(2),16);if("o"===e[1])return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!ht.isNegativeZero(e)},represent:{binary:function(e){return 0<=e?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return 0<=e?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return 0<=e?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),wt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),xt=/^[-+]?[0-9]+e/,tt=new E("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!wt.test(e)||"_"===e[e.length-1])},construct:function(e){var t="-"===(e=e.replace(/_/g,"").toLowerCase())[0]?-1:1;return".inf"===(e=0<="+-".indexOf(e[0])?e.slice(1):e)?1==t?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:t*parseFloat(e,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||ht.isNegativeZero(e))},represent:function(e,t){if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ht.isNegativeZero(e))return"-0.0";return t=e.toString(10),xt.test(t)?t.replace("e",".e"):t},defaultStyle:"lowercase"}),at=Xe.extend({implicit:[rt,A,j,tt]}),kt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ot=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),r=new E("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==kt.exec(e)||null!==Ot.exec(e))},construct:function(e){var t,r,n,a,s,i,o=0,c=null;if(null===(i=null===(i=kt.exec(e))?Ot.exec(e):i))throw new Error("Date resolve error");if(e=+i[1],t=+i[2]-1,r=+i[3],!i[4])return new Date(Date.UTC(e,t,r));if(n=+i[4],a=+i[5],s=+i[6],i[7]){for(o=i[7].slice(0,3);o.length<3;)o+="0";o=+o}return i[9]&&(c=6e4*(60*+i[10]+ +(i[11]||0)),"-"===i[9]&&(c=-c)),i=new Date(Date.UTC(e,t,r,n,a,s,o)),c&&i.setTime(i.getTime()-c),i},instanceOf:Date,represent:function(e){return e.toISOString()}}),T=new E("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),Zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",nt=new E("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;for(var t,r=0,n=e.length,a=Zt,s=0;s<n;s++)if(!(64<(t=a.indexOf(e.charAt(s))))){if(t<0)return!1;r+=6}return r%8==0},construct:function(e){for(var t=e.replace(/[\r\n=]/g,""),r=t.length,n=Zt,a=0,s=[],i=0;i<r;i++)i%4==0&&i&&(s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)),a=a<<6|n.indexOf(t.charAt(i));return 0==(e=r%4*6)?(s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)):18==e?(s.push(a>>10&255),s.push(a>>2&255)):12==e&&s.push(a>>4&255),new Uint8Array(s)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){for(var t,r="",n=0,a=e.length,s=Zt,i=0;i<a;i++)i%3==0&&i&&(r=(r=r+s[n>>18&63]+s[n>>12&63])+s[n>>6&63]+s[63&n]),n=(n<<8)+e[i];return 0==(t=a%3)?r=(r=r+s[n>>18&63]+s[n>>12&63])+s[n>>6&63]+s[63&n]:2==t?r=(r=r+s[n>>10&63]+s[n>>4&63])+s[n<<2&63]+s[64]:1==t&&(r=(r=r+s[n>>2&63]+s[n<<4&63])+s[64]+s[64]),r}}),Nt=Object.prototype.hasOwnProperty,Tt=Object.prototype.toString,et=new E("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;for(var t,r,n,a=[],s=e,i=0,o=s.length;i<o;i+=1){if(t=s[i],n=!1,"[object Object]"!==Tt.call(t))return!1;for(r in t)if(Nt.call(t,r)){if(n)return!1;n=!0}if(!n)return!1;if(-1!==a.indexOf(r))return!1;a.push(r)}return!0},construct:function(e){return null!==e?e:[]}}),jt=Object.prototype.toString,Xe=new E("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;for(var t,r,n=e,a=new Array(n.length),s=0,i=n.length;s<i;s+=1){if(t=n[s],"[object Object]"!==jt.call(t))return!1;if(1!==(r=Object.keys(t)).length)return!1;a[s]=[r[0],t[r[0]]]}return!0},construct:function(e){if(null===e)return[];for(var t,r,n=e,a=new Array(n.length),s=0,i=n.length;s<i;s+=1)t=n[s],r=Object.keys(t),a[s]=[r[0],t[r[0]]];return a}}),At=Object.prototype.hasOwnProperty,rt=new E("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(At.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),St=at.extend({implicit:[r,T],explicit:[nt,et,Xe,rt]});function Et(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}for(var It=new Array(256),Pt=new Array(256),Ct=0;Ct<256;Ct++)It[Ct]=Et(Ct)?1:0,Pt[Ct]=Et(Ct);var Mt=Object.prototype.toString,Lt=Object.prototype.hasOwnProperty,Dt=65279,Rt={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},zt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Ut=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Ft(e){this.schema=e.schema||St,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ht.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,n,a,s,i,o,c;if(null===t)return{};for(r={},a=0,s=(n=Object.keys(t)).length;a<s;a+=1)i=n[a],o=String(t[i]),"!!"===i.slice(0,2)&&(i="tag:yaml.org,2002:"+i.slice(2)),(c=e.compiledTypeMap.fallback[i])&&Lt.call(c.styleAliases,o)&&(o=c.styleAliases[o]),r[i]=o;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Vt(e,t){for(var r,n,a=ht.repeat(" ",t),s=0,i="",o=e.length;s<o;)s=-1===(n=e.indexOf("\n",s))?(r=e.slice(s),o):(r=e.slice(s,n+1),n+1),r.length&&"\n"!==r&&(i+=a),i+=r;return i}function Kt(e,t){return"\n"+ht.repeat(" ",e.indent*t)}function $t(e){return 32===e||9===e}function qt(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==Dt||65536<=e&&e<=1114111}function Yt(e){return qt(e)&&e!==Dt&&13!==e&&10!==e}function Bt(e,t,r){var n=Yt(e),a=n&&!$t(e);return(r?n:n&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!a)||Yt(t)&&!$t(t)&&35===e||58===t&&a}function Wt(e,t){var r=e.charCodeAt(t);return 55296<=r&&r<=56319&&t+1<e.length&&56320<=(e=e.charCodeAt(t+1))&&e<=57343?1024*(r-55296)+e-56320+65536:r}function Gt(e){return/^\n* /.test(e)}function Jt(s,n,a,i,o){s.dump=function(){if(0===n.length)return 2===s.quotingType?'""':"''";if(!s.noCompatMode&&(-1!==zt.indexOf(n)||Ut.test(n)))return 2===s.quotingType?'"'+n+'"':"'"+n+"'";var e=s.indent*Math.max(1,a),t=-1===s.lineWidth?-1:Math.max(Math.min(s.lineWidth,40),s.lineWidth-e),r=i||-1<s.flowLevel&&a>=s.flowLevel;switch(function(e,t,r,n,a,s,i,o){var c,u,l=0,d=null,p=!1,f=!1,h=-1!==n,m=-1,y=qt(u=Wt(e,0))&&u!==Dt&&!$t(u)&&45!==u&&63!==u&&58!==u&&44!==u&&91!==u&&93!==u&&123!==u&&125!==u&&35!==u&&38!==u&&42!==u&&33!==u&&124!==u&&61!==u&&62!==u&&39!==u&&34!==u&&37!==u&&64!==u&&96!==u&&(!$t(u=Wt(e,e.length-1))&&58!==u);if(t||i)for(c=0;c<e.length;65536<=l?c+=2:c++){if(!qt(l=Wt(e,c)))return 5;y=y&&Bt(l,d,o),d=l}else{for(c=0;c<e.length;65536<=l?c+=2:c++){if(10===(l=Wt(e,c)))p=!0,h&&(f=f||n<c-m-1&&" "!==e[m+1],m=c);else if(!qt(l))return 5;y=y&&Bt(l,d,o),d=l}f=f||h&&n<c-m-1&&" "!==e[m+1]}return p||f?9<r&&Gt(e)?5:i?2===s?5:2:f?4:3:!y||i||a(e)?2===s?5:2:1}(n,r,s.indent,t,function(e){for(var t=s,r=e,n=0,a=t.implicitTypes.length;n<a;n+=1)if(t.implicitTypes[n].resolve(r))return 1},s.quotingType,s.forceQuotes&&!i,o)){case 1:return n;case 2:return"'"+n.replace(/'/g,"''")+"'";case 3:return"|"+Qt(n,s.indent)+Ht(Vt(n,e));case 4:return">"+Qt(n,s.indent)+Ht(Vt(function(e,t){for(var r,n=/(\n+)([^\n]*)/g,a=(r=-1!==(r=e.indexOf("\n"))?r:e.length,n.lastIndex=r,Xt(e.slice(0,r),t)),s="\n"===e[0]||" "===e[0];o=n.exec(e);){var i=o[1],o=o[2],c=" "===o[0];a+=i+(s||c||""===o?"":"\n")+Xt(o,t),s=c}return a}(n,t),e));case 5:return'"'+function(e){for(var t,r,n="",a=0;a<e.length;65536<=r?a+=2:a++)r=Wt(e,a),!(t=Rt[r])&&qt(r)?(n+=e[a],65536<=r&&(n+=e[a+1])):n+=t||function(e){var t,r,n=e.toString(16).toUpperCase();if(e<=255)t="x",r=2;else if(e<=65535)t="u",r=4;else{if(!(e<=4294967295))throw new U("code point within a string may not be greater than 0xFFFFFFFF");t="U",r=8}return"\\"+t+ht.repeat("0",r-n.length)+n}(r);return n}(n)+'"';default:throw new U("impossible error: invalid scalar style")}}()}function Qt(e,t){var t=Gt(e)?String(t):"",r="\n"===e[e.length-1];return t+(!r||"\n"!==e[e.length-2]&&"\n"!==e?r?"":"-":"+")+"\n"}function Ht(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function Xt(e,t){if(""===e||" "===e[0])return e;for(var r,n,a=/ [^ ]/g,s=0,i=0,o="";n=a.exec(e);)(n=n.index)-s>t&&(o+="\n"+e.slice(s,r=s<i?i:n),s=r+1),i=n;return o+="\n",e.length-s>t&&s<i?o+=e.slice(s,i)+"\n"+e.slice(i+1):o+=e.slice(s),o.slice(1)}function er(e,t,r,n){for(var a,s="",i=e.tag,o=0,c=r.length;o<c;o+=1)a=r[o],e.replacer&&(a=e.replacer.call(r,String(o),a)),(F(e,t+1,a,!0,!0,!1,!0)||void 0===a&&F(e,t+1,null,!0,!0,!1,!0))&&(n&&""===s||(s+=Kt(e,t)),e.dump&&10===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=i,e.dump=s||"[]"}function tr(e,t,r){for(var n,a,s,i,o=0,c=(a=r?e.explicitTypes:e.implicitTypes).length;o<c;o+=1)if(((s=a[o]).instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(r?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(i=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===Mt.call(s.represent))n=s.represent(t,i);else{if(!Lt.call(s.represent,i))throw new U("!<"+s.tag+'> tag resolver accepts not "'+i+'" style');n=s.represent[i](t,i)}e.dump=n}return 1}}function F(e,t,r,n,a,s,i){e.tag=null,e.dump=r,tr(e,r,!1)||tr(e,r,!0);var o=Mt.call(e.dump),L=n;n=n&&(e.flowLevel<0||e.flowLevel>t);var c,u,l="[object Object]"===o||"[object Array]"===o;if(l&&(u=-1!==(c=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||u||2!==e.indent&&0<t)&&(a=!1),u&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(l&&u&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),"[object Object]"===o)if(n&&0!==Object.keys(e.dump).length){{var d=e;var p=t;var f=e.dump;var D=a;var h,m,y,g,v,_="",r=d.tag,b=Object.keys(f);if(!0===d.sortKeys)b.sort();else if("function"==typeof d.sortKeys)b.sort(d.sortKeys);else if(d.sortKeys)throw new U("sortKeys must be a boolean or a function");for(h=0,m=b.length;h<m;h+=1)v="",D&&""===_||(v+=Kt(d,p)),y=f[g=b[h]],d.replacer&&(y=d.replacer.call(f,g,y)),F(d,p+1,g,!0,!0,!0)&&((g=null!==d.tag&&"?"!==d.tag||d.dump&&1024<d.dump.length)&&(d.dump&&10===d.dump.charCodeAt(0)?v+="?":v+="? "),v+=d.dump,g&&(v+=Kt(d,p)),F(d,p+1,y,!0,g)&&(d.dump&&10===d.dump.charCodeAt(0)?v+=":":v+=": ",_+=v+=d.dump));d.tag=r,d.dump=_||"{}"}u&&(e.dump="&ref_"+c+e.dump)}else{{var w=e;var x=t;var k=e.dump;for(var O,Z,N,T="",l=w.tag,j=Object.keys(k),A=0,R=j.length;A<R;A+=1)(N="")!==T&&(N+=", "),w.condenseFlow&&(N+='"'),Z=k[O=j[A]],w.replacer&&(Z=w.replacer.call(k,O,Z)),F(w,x,O,!1,!1)&&(1024<w.dump.length&&(N+="? "),N+=w.dump+(w.condenseFlow?'"':"")+":"+(w.condenseFlow?"":" "),F(w,x,Z,!1,!1)&&(T+=N+=w.dump));w.tag=l,w.dump="{"+T+"}"}u&&(e.dump="&ref_"+c+" "+e.dump)}else if("[object Array]"===o)if(n&&0!==e.dump.length)e.noArrayIndent&&!i&&0<t?er(e,t-1,e.dump,a):er(e,t,e.dump,a),u&&(e.dump="&ref_"+c+e.dump);else{{var S=e;var E=t;var I=e.dump;for(var P,C="",r=S.tag,M=0,z=I.length;M<z;M+=1)P=I[M],S.replacer&&(P=S.replacer.call(I,String(M),P)),(F(S,E,P,!1,!1)||void 0===P&&F(S,E,null,!1,!1))&&(""!==C&&(C+=","+(S.condenseFlow?"":" ")),C+=S.dump);S.tag=r,S.dump="["+C+"]"}u&&(e.dump="&ref_"+c+" "+e.dump)}else{if("[object String]"!==o){if("[object Undefined]"===o)return;if(e.skipInvalid)return;throw new U("unacceptable kind of an object to dump "+o)}"?"!==e.tag&&Jt(e,e.dump,t,s,L)}null!==e.tag&&"?"!==e.tag&&(l=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),l="!"===e.tag[0]?"!"+l:"tag:yaml.org,2002:"===l.slice(0,18)?"!!"+l.slice(18):"!<"+l+">",e.dump=l+" "+e.dump)}return 1}function rr(e,t){var r,n,a=[],s=[];for(function e(t,r,n){var a,s,i;if(null!==t&&"object"==typeof t)if(-1!==(s=r.indexOf(t)))-1===n.indexOf(s)&&n.push(s);else if(r.push(t),Array.isArray(t))for(s=0,i=t.length;s<i;s+=1)e(t[s],r,n);else for(s=0,i=(a=Object.keys(t)).length;s<i;s+=1)e(t[a[s]],r,n)}(e,a,s),r=0,n=s.length;r<n;r+=1)t.duplicates.push(a[s[r]]);t.usedDuplicates=new Array(n)}function I(e,t,r){var n=t.title,a=t.description,s=t.name,t=t.namespace;if((e=e.safeParse({metadata:{title:n,description:a,name:s,namespace:t},spec:r})).success)return S(S({},e.data),{},{metadata:S(S({},e.data.metadata),{},{reference:"".concat(e.data.kind,":").concat(e.data.metadata.namespace,"/").concat(e.data.metadata.name).toLowerCase()})});throw Error("unable to create entity")}function P(r){return{get:function(){return r},set:function(e){return e(r)},yaml:function(){return ar(r)},json:function(){return JSON.stringify(r)},ref:function(){return r.metadata.reference},doc:function(){return"".concat(r.metadata.namespace,"/").concat(r.kind,"/").concat(r.metadata.name).toLowerCase()},path:function(){var e,t="".concat(r.metadata.namespace,"/").concat(r.kind,"/");return null!=(e=r.spec)&&e.type&&(t+="".concat(r.spec.type,"-")),(t+="".concat(r.metadata.name,".yaml")).toLowerCase()},addLink:function(e){r.metadata.links||(r.metadata.links=[]),r.metadata.links.push(e)}}}function nr(e){e.metadata.annotations["backstage.io/techdocs-ref"]="url:/api/techdocs/static/docs/".concat(e.metadata.namespace,"/").concat(e.kind,"/").concat(e.metadata.name).toLowerCase()}var ar=function(e,t){t=new Ft(t=t||{}),t.noRefs||rr(e,t);return t.replacer&&(e=t.replacer.call({"":e},"",e)),F(t,0,e,!0,!0)?t.dump+"\n":""},A=t.enum(["sre","nlp","developer-apps","business-apps"]),j=t.enum(["cloud","nlp","monitoring"]),tt=t.object({$schema:t.string(),name:He.describe("name of the project"),description:N.describe("short description of the project"),team:A.describe("team that owns this project"),docs:t.string().describe("path to the documentation file or directory (ex: README.md). Relative to the backstage configuration file.").optional()}),at=tt.extend({type:t.literal("service@v1"),system:j.describe("system that this service is part of")}),r=tt.extend({type:t.literal("website@v1"),system:j.describe("system that this service is part of")}),T=tt.extend({type:t.literal("documentation@v1")}),nt=t.union([at,r,T]);e.Api=function(e){var t=e.system,r=e.owner,n=e.definition,e=I(ut,e,{owner:r,system:t,definition:n,type:"openapi",lifecycle:"production"});return P(e)},e.Deployment=function(e){e=I(lt,e,{owner:e.owner,environment:e.environment});return P(e)},e.Documentation=function(e){e=I(dt,e,{owner:e.owner});return nr(e),P(e)},e.Organization=function(e){e=I(it,e,{type:"organization",children:[],profile:{}});return P(e)},e.Service=function(e){var t=e.docs,r=e.github,n=e.owner,a=e.system,s=e.providesApis,i=e.dependsOn,o=I(ct,e,{owner:n,system:a,type:"service",lifecycle:"production",providesApis:null!=s?s:[],dependsOn:null!=i?i:[]});return t&&nr(o),r&&(o.metadata.annotations["github.com/project-slug"]="".concat(r.organization,"/").concat(r.repository)),S(S({},P(o)),{},{addDependency:function(e){o.spec.dependsOn.push(e.metadata.reference)}})},e.System=function(e){e=I(st,e,{owner:e.owner});return P(e)},e.Team=function(e){e=I(it,e,{type:"team",parent:e.organization,children:[],profile:{}});return P(e)},e.User=function(e){var t=e.name,r=e.teams,n=e.picture,a=e.email,s=e.github,i=e.name.toLowerCase().replace(/ /g,"-"),e=I(ot,S(S({},e),{},{name:i}),{memberOf:r,profile:{displayName:t,picture:n}});return s&&(e.metadata.annotations["github.com/user-login"]=s.username),a&&(e.metadata.annotations["google.com/email"]=a),P(e)},e.Website=function(e){var t=e.docs,r=e.github,n=e.owner,a=e.system,e=I(ct,e,{owner:n,system:a,type:"website",lifecycle:"production",dependsOn:[],providesApis:[]});return t&&nr(e),r&&(e.metadata.annotations["github.com/project-slug"]="".concat(r.organization,"/").concat(r.repository)),P(e)},e.documentationV1Schema=T,e.schema=nt,e.serviceV1Schema=at,e.websiteV1Schema=r,Object.defineProperty(e,"__esModule",{value:!0})});
